generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("POSTGRES_URL")
}

model App {
    client_id            String @id 
    hashed_client_secret String @db.VarChar(64)
    terms_uri            String? 
    privacy_uri          String? 
    client_type          String
    require_pkce         Boolean  @default(false)
    redirect             Uri[]

    @@unique([client_id])
}

model Uri {
    id        String    @id @default(cuid())
    client_id String   
    type      UriType
    uri       String 
    app       App   @relation(fields: [client_id], references: [client_id])
}

enum UriType {
  REDIRECT
  CORS
}